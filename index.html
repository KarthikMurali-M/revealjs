<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Quarterly Earnings — Interactive RevealJS</title>

  <!-- Reveal core CSS (CDN) -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/reveal.js@4.5.0/dist/reveal.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/reveal.js@4.5.0/dist/theme/white.css" id="theme">

  <!-- Highlight.js styles for code highlighting -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@11.8.0/styles/github.css">

  <style>
    /* Custom styling */
    .reveal { font-family: "Inter", system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial; }
    .email-foot { position: fixed; right: 12px; bottom: 12px; font-size: 0.9rem; opacity: 0.85; }
    .chart { height: 380px; width: 100%; }
  </style>
</head>
<body>
  <div class="reveal">
    <div class="slides">

      <!-- Title slide -->
      <section>
        <h1>Quarterly Earnings — Q2 Report</h1>
        <h3>Interactive summary for stakeholders</h3>
        <p class="fragment">Prepared by: Finance Analytics Team</p>
        <aside class="notes">Start with a one-line summary of the quarter. Mention the headline metric (revenue, growth, or margin).</aside>
      </section>

      <!-- Markdown slide (uses RevealMarkdown plugin) -->
      <section data-markdown>
        <textarea data-template>
## Executive Summary (Markdown slide)

- Revenue: **₹X crore** (YoY +Y%)
- Net Margin: **Z%**
- Key drivers:
  - Fragmented growth across Product A and B
  - Improved collection efficiency

---

## Actions
1. Reprice B2B contracts (short term)
2. Reduce promotional spend on low-ROI channels

`Note:` This slide is written in Markdown and will render inside RevealJS.
        </textarea>
      </section>

      <!-- Animated fragments -->
      <section>
        <h2>Highlights (animated)</h2>
        <ul>
          <li class="fragment">Topline growth exceeded target</li>
          <li class="fragment">Operating expenses were reduced month-over-month</li>
          <li class="fragment fade-up">Cash conversion cycle improved by 12 days</li>
        </ul>
        <aside class="notes">Call out the most important highlight first. Use fragments to reveal points and keep audience focus.</aside>
      </section>

      <!-- Code sample with syntax highlighting -->
      <section>
        <h2>Analysis script (Python)</h2>
        <pre><code class="python" data-line-numbers="1-3|5">import pandas as pd

# Load quarterly P&L
df = pd.read_csv('data/q2_pnl.csv')

# Compute margin
df['margin'] = df['net_profit'] / df['revenue']
print(df[['business_unit','revenue','margin']].groupby('business_unit').mean())
        </code></pre>
        <aside class="notes">Explain where the data lives and what each line computes. Mention data quality checks before running.</aside>
      </section>

      <!-- Math / formula slide -->
      <section>
        <h2>Financial Formula</h2>
        <p>We use the standard ROIC formula:</p>
        <p>\[\mathrm{ROIC} = \frac{\mathrm{Net\ Operating\ Profit\ After\ Tax\ (NOPAT)}}{\mathrm{Invested\ Capital}}\times 100\%\]</p>
        <aside class="notes">Show how drivers (NOPAT and invested capital) changed this quarter. Keep this slide simple.</aside>
      </section>

      <!-- Live demo iframe / placeholder for chart (lazy-loaded) -->
      <section id="chart-slide">
        <h2>Revenue Trend (interactive)</h2>
        <div id="chart" class="chart fragment"></div>
        <aside class="notes">If possible, demo interactive filtering by product or region here. If network-restricted, show a static image fallback.</aside>
      </section>

      <!-- Speaker notes + contact -->
      <section>
        <h2>Questions & Next steps</h2>
        <ul>
          <li class="fragment">Deep-dive sessions with Product teams</li>
          <li class="fragment">Reforecast FY guidance if macro worsens</li>
        </ul>
        <aside class="notes">Finish with calls to action. Invite stakeholders to follow-up workshops.</aside>
      </section>

      <!-- Footer with email (visible) -->
      <section>
        <h3>Contact</h3>
        <p>If you need the underlying models or data exports, contact: <strong><span id="24f2001293@ds.study.iitm.ac.in">24f2001293@ds.study.iitm.ac.in</span></strong></p>
        <aside class="notes">Provide contact details and where to find the slide repo.</aside>
      </section>

    </div>
  </div>

  <!-- Email foot note (always visible in presenter view) -->
  <div class="email-foot"><span id="email-span">24f2001293@ds.study.iitm.ac.in</span></div>

  <!-- Reveal core JS + plugins (CDN) -->
  <script src="https://cdn.jsdelivr.net/npm/reveal.js@4.5.0/dist/reveal.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/reveal.js@4.5.0/plugin/markdown/markdown.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/reveal.js@4.5.0/plugin/highlight/highlight.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/reveal.js@4.5.0/plugin/math/math.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/reveal.js@4.5.0/plugin/notes/notes.js"></script>

  <!-- Optional: D3 for charts (demo) -->
  <script src="https://d3js.org/d3.v7.min.js"></script>

  <script>
    // Initialize Reveal with useful plugins
    Reveal.initialize({
      width: 1280,
      height: 720,
      margin: 0.04,
      controls: true,
      progress: true,
      history: true,
      transition: 'slide',
      plugins: [ RevealMarkdown, RevealHighlight, RevealMath.KaTeX, RevealNotes ]
    });

    // Simple example chart (renders when slide becomes current)
    const revenue = [120, 150, 170, 190, 210, 230];
    Reveal.addEventListener('slidechanged', (event) => {
      if (event.currentSlide && event.currentSlide.id === 'chart-slide') {
        renderChart();
      }
    });

    function renderChart(){
      if (document.getElementById('chart').innerHTML) return; // only draw once
      const svg = d3.select('#chart').append('svg')
        .attr('viewBox', '0 0 800 300')
        .style('width', '100%');

      const x = d3.scaleLinear().domain([0, revenue.length-1]).range([40,760]);
      const y = d3.scaleLinear().domain([0, d3.max(revenue)]).range([260,20]);

      const line = d3.line().x((d,i)=>x(i)).y(d=>y(d));
      svg.append('path').attr('d', line(revenue)).attr('fill','none').attr('stroke','#333').attr('stroke-width',2);

      svg.selectAll('circle').data(revenue).enter().append('circle')
        .attr('cx', (d,i)=>x(i)).attr('cy', d=>y(d)).attr('r',4);
    }
  </script>
</body>
</html>
